From e4aae3c0f47aee0bc2e083639d6172d53c841554 Mon Sep 17 00:00:00 2001
From: Dmitry Rozhkov <dmitry.rozhkov@jolla.com>
Date: Mon, 11 May 2015 13:13:03 +0300
Subject: [PATCH 04/17] Define HAS_NEMO_RESOURCE in config

See bugs JB10947, JB30305, and JB30517

Signed-off-by: Raine Makelainen <raine.makelainen@jolla.com>
---
 configure.in | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/configure.in b/configure.in
index 3538538bac39..a3ba8b2f6ae2 100644
--- a/configure.in
+++ b/configure.in
@@ -5661,6 +5661,9 @@ if test -n "$MOZ_GSTREAMER"; then
         AC_MSG_ERROR([gstreamer and gstreamer-plugins-base development packages are needed to build gstreamer backend. Install them or disable gstreamer support with --disable-gstreamer])
     fi
 
+    HAS_NEMO_RESOURCE=1
+    AC_DEFINE(HAS_NEMO_RESOURCE)
+
     _SAVE_LDFLAGS=$LDFLAGS
     LDFLAGS="$LDFLAGS $GSTREAMER_LIBS -lgstvideo-$GST_API_VERSION"
     AC_TRY_LINK(,[return 0;],_HAVE_LIBGSTVIDEO=1,_HAVE_LIBGSTVIDEO=)
@@ -5673,6 +5676,7 @@ if test -n "$MOZ_GSTREAMER"; then
 fi
 
 AC_SUBST(MOZ_GSTREAMER)
+AC_SUBST(HAS_NEMO_RESOURCE)
 AC_SUBST(GST_API_VERSION)
 
 if test -n "$MOZ_GSTREAMER"; then
-- 
2.24.1

