
# HG changeset patch
# User Randall Barker <rbarker@mozilla.com>
# Date 1406886120 -7200
# Node ID 4efe71ac322eb6a690caf98df93d5e1772407edc
# Parent  174637171dbe57fcbc953d5f8590ad7904493c1a
Bug 1042525 - Propogate MOZ_X11 to WebRTC build system. r=ted

diff --git a/build/gyp.mozbuild b/build/gyp.mozbuild
--- a/build/gyp.mozbuild
+++ b/build/gyp.mozbuild
@@ -28,16 +28,19 @@ gyp_vars = {
     'libyuv_dir': '/media/libyuv',
     'yuv_disable_avx2': 0 if CONFIG['HAVE_X86_AVX2'] else 1,
     # don't use openssl
     'use_openssl': 0,
 
     # saves 4MB when webrtc_trace is off
     'enable_lazy_trace_alloc': 0,
 
+    'use_x11': 1 if CONFIG['MOZ_X11'] else 0,
+    'use_glib': 1 if CONFIG['GLIB_LIBS'] else 0,
+
      # turn off mandatory use of NEON and instead use NEON detection
     'arm_neon': 0,
     'arm_neon_optional': 1,
 
     'moz_widget_toolkit_gonk': 0,
     'moz_webrtc_omx': 0,
 
     # (for vp8) chromium sets to 0 also

